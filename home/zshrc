export ZSH=$HOME/.dotfiles/oh-my-zsh
# Path to your oh-my-zsh configuration.

# Set to the name theme to load.
# Look in ~/.oh-my-zsh/themes/
#export ZSH_THEME="maran"
export ZSH_THEME="risto"

export DISABLE_AUTO_UPDATE="true"

plugins=(git brew svn ruby rails)

source $ZSH/oh-my-zsh.sh

if [[ -s $HOME/.profile ]] ; then source $HOME/.profile ; fi


# Customize to your needs...
#

# This might need to be moved into a mac-specific file in oh-my-zsh
#stty erase ^H &>/dev/null
bindkey "^?" backward-delete-char
bindkey "^[[3~" delete-char

# usage: bindtc <cap> <fallback> <zsh-command>
bindtc ()
{
  local keyval=$(echotc "$1" 2>&-)
  bindkey "${keyval:-$2}" "$3"
}

findin ()
{
  find . 2>/dev/null |grep -v 'No such file or directory' | grep -v 'permission denied' | grep -v .git | grep -v .svn | grep -v "\/log\/" | xargs grep -n $1 2>/dev/null
}

# Let backtab cycle through completions in reverse
bindtc bt "^[[Z" reverse-menu-complete

# Bindings for PGUP, PGDN, HOME, END
bindtc kP "^[[I" history-beginning-search-backward
bindtc kN "^[[G" history-beginning-search-forward
bindtc kh "^[[H" beginning-of-line
bindtc kH "^[[F" end-of-line

# Bindings for UP, DOWN, LEFT, RIGHT
bindtc ku "^[[A" up-line-or-history
bindtc kd "^[[B" down-line-or-history
bindtc kr "^[[C" forward-char
bindtc kl "^[[D" backward-char

# Emacs style for vi mode
#set -o vi
#bindkey -v # vi mode line editting
#bindkey '^A' beginning-of-line
#bindkey '^E' end-of-line
#bindkey '^K' kill-line
#bindkey '^U' kill-whole-line
#bindkey -M viins '^O' copy-prev-shell-word
#bindkey '^L' push-line # push current command into a buffer, allows you to do another command then returns to previous command


export LESS="-r"

function tree {
  find ${1:-.} -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'
}

src(){cd ~/src/$1;}
compctl -W ~/src -/ src

kapow(){
  touch ~/.pow/$1/tmp/restart.txt;
  if [ $? -eq 0 ]; then; echo "pow: restarting $1" ; fi
}
compctl -W ~/.pow -/ kapow

ackr() { ack $* app/* lib/* config/* db/migrate/* test/* }

function prompt-dissapoint {
  export PROMPT="%{$fg[green]%}ಠ_ಠ %{$reset_color%}"
}
function prompt-ahh {
  export PROMPT="%{$fg[green]%}٩◔̯◔۶ %{$reset_color%}"
}
function prompt-roll {
  export PROMPT="%{$fg[green]%}◔_◔ %{$reset_color%}"
}
function prompt-yay {
  export PROMPT="%{$fg[green]%}(｡◕‿◕｡) %{$reset_color%}"
}
function prompt-gasp {
  export PROMPT="%{$fg[green]%}⊙▃ ⊙ %{$reset_color%}"
}
function prompt-happy {
  export PROMPT="%{$fg[green]%}(•‿•) %{$reset_color%}"
}









unsetopt auto_name_dirs
# Ruby Version Manager path mangling
if [[ -s $HOME/.rvm/scripts/rvm ]] ; then source $HOME/.rvm/scripts/rvm ; fi
